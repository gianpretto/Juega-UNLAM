<header class="steam-header">
  <nav class="header-container">
    <!-- Logo -->
    <div class="header-logo">
      <a routerLink="/catalogo" class="logo-link">
        <img src="assets/images/juegaunlam.png" alt="Juega UNLaM" class="logo-img">
      </a>
    </div>

    <!-- Navigation Menu -->
    <div class="header-nav">
      <ul class="nav-menu">
        <li class="nav-item">
          <a routerLink="/catalogo" routerLinkActive="active" class="nav-link">
            <i class="pi pi-th-large"></i>
            <span>Cat치logo</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/mi-biblioteca" routerLinkActive="active" class="nav-link">
            <i class="pi pi-book"></i>
            <span>Mi Biblioteca</span>
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/wishlist" routerLinkActive="active" class="nav-link">
            <i class="pi pi-heart"></i>
            <span>Wishlist</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- User Section -->
    @if (currentUser$ | async; as user) {
      <div class="header-user">
        <!-- Balance -->
        <div class="user-balance">
          <i class="pi pi-wallet balance-icon"></i>
          <span class="balance-amount">${{ user.saldo }}</span>
        </div>

        <!-- User Menu -->
        <div class="user-menu">
          <div class="user-info">
            <div class="user-avatar">
              <i class="pi pi-user"></i>
            </div>
            <div class="user-details">
              <span class="user-name">{{ user.nombre }}</span>
              <span class="user-email">{{ user.email }}</span>
            </div>
          </div>

          <div class="user-dropdown">
            <button class="dropdown-item" routerLink="/usuario-perfil">
              <i class="pi pi-user"></i>
              <span>Mi Perfil</span>
            </button>
            <button class="dropdown-item logout" (click)="salir()">
              <i class="pi pi-sign-out"></i>
              <span>Cerrar Sesi칩n</span>
            </button>
          </div>
        </div>
      </div>
    }

    <!-- Mobile Menu Toggle -->
    <button class="mobile-toggle" (click)="toggleMobileMenu()">
      <i class="pi" [ngClass]="mobileMenuOpen ? 'pi-times' : 'pi-bars'"></i>
    </button>
  </nav>

  <!-- Mobile Navigation -->
  <div class="mobile-nav" [class.open]="mobileMenuOpen">
    <ul class="mobile-menu">
      <li class="mobile-item">
        <a routerLink="/catalogo" routerLinkActive="active" class="mobile-link" (click)="closeMobileMenu()">
          <i class="pi pi-th-large"></i>
          <span>Cat치logo</span>
        </a>
      </li>
      <li class="mobile-item">
        <a routerLink="/mi-biblioteca" routerLinkActive="active" class="mobile-link" (click)="closeMobileMenu()">
          <i class="pi pi-book"></i>
          <span>Mi Biblioteca</span>
        </a>
      </li>
      <li class="mobile-item">
        <a routerLink="/wishlist" routerLinkActive="active" class="mobile-link" (click)="closeMobileMenu()">
          <i class="pi pi-heart"></i>
          <span>Wishlist</span>
        </a>
      </li>
      <li class="mobile-item">
        <a routerLink="/usuario-perfil" routerLinkActive="active" class="mobile-link" (click)="closeMobileMenu()">
          <i class="pi pi-user"></i>
          <span>Mi Perfil</span>
        </a>
      </li>
      
      @if (currentUser$ | async; as user) {
        <li class="mobile-divider"></li>
        <li class="mobile-item mobile-user">
          <div class="mobile-balance">
            <i class="pi pi-wallet"></i>
            <span>Saldo: ${{ user.saldo }}</span>
          </div>
        </li>
        <li class="mobile-item">
          <button class="mobile-logout" (click)="salir()">
            <i class="pi pi-sign-out"></i>
            <span>Cerrar Sesi칩n</span>
          </button>
        </li>
      }
    </ul>
  </div>
</header>
