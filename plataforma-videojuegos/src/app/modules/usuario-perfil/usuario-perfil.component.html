<div class="perfil-container">
  <div class="perfil-header">
    <h1 class="perfil-title">MI PERFIL</h1>
  </div>

  <div class="perfil-content">
    <div class="perfil-avatar-section" [ngStyle]="{'background-image': imagenFondo ? 'url(' + imagenFondo + ')' : 'none'}">
      <div class="perfil-avatar">
        @if (imagenPerfil) {
          <img
            [src]="imagenPerfil"
            alt="Perfil"
            class="avatar-img"
          />
        }
        @if (!imagenPerfil) {
          <i class="pi pi-user avatar-placeholder"></i>
        }
      </div>
      
      <div class="upload-buttons">
        <p-fileUpload
          mode="basic"
          name="perfil"
          chooseLabel="Cambiar Avatar"
          accept="image/*"
          (onSelect)="onPerfilUpload($event)"
          auto="true"
          customUpload="true"
          styleClass="upload-btn"
        ></p-fileUpload>

        <p-fileUpload
          mode="basic"
          name="fondo"
          chooseLabel="Cambiar Fondo"
          accept="image/*"
          (onSelect)="onFondoUpload($event)"
          auto="true"
          customUpload="true"
          styleClass="upload-btn"
        ></p-fileUpload>
      </div>
    </div>

    @if (usuario != null) {
      <div class="perfil-datos">
        <h2 class="datos-title">INFORMACIÓN DE LA CUENTA</h2>
        
        <div class="datos-grid">
          <div class="dato-item">
            <label>Nombre</label>
            <div class="dato-value">{{usuario.nombre}}</div>
          </div>
          
          <div class="dato-item">
            <label>Apellido</label>
            <div class="dato-value">{{usuario.apellido}}</div>
          </div>
          
          <div class="dato-item">
            <label>Email</label>
            <div class="dato-value">{{usuario.email}}</div>
          </div>
          
          <div class="dato-item">
            <label>Dirección</label>
            <div class="dato-value">{{usuario.direccion || 'No especificada'}}</div>
          </div>
        </div>
      </div>
    }

    <button class="boton-volver" (click)="navigateToCatalogo()">
      <i class="pi pi-arrow-left"></i>
      <span>Volver al Catálogo</span>
    </button>
  </div>
<div class="mensaje-exito" *ngIf="mensaje">
  {{ mensaje }}
</div>


</div>
