<div class="container py-5">
  <h2 class="mb-4 text-center fw-bold">ğŸ›’ Tu Pedido</h2>

  <!-- Mensaje -->
  <div *ngIf="mensaje" class="alert text-center"
       [ngClass]="{
         'alert-success': mensaje.includes('Ã©xito'),
         'alert-danger': mensaje.includes('insuficiente') || mensaje.includes('vacÃ­o')
       }">
    {{ mensaje }}

    <!-- BotÃ³n adicional cuando la compra fue exitosa -->
    <div *ngIf="mensaje.includes('Ã©xito')" class="mt-3">
      <button class="btn btn-primary" (click)="irACatalogo()">Seguir navegando ğŸ®</button>
    </div>
  </div>

  <!-- Carrito vacÃ­o -->
  <div *ngIf="juegos.length === 0 && !mensaje" class="text-center mt-5">
    <p class="fs-5 text-muted">Tu carrito estÃ¡ vacÃ­o ğŸ•Šï¸</p>
    <button class="btn btn-primary" (click)="irACatalogo()">Seguir navegando ğŸ®</button>
  </div>

  <!-- Lista de juegos -->
  <div *ngIf="juegos.length > 0" class="card shadow-lg p-3 mb-5">
    <ul class="list-group list-group-flush">
      <li *ngFor="let juego of juegos" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ juego.nombre }}</strong>
          <p class="text-muted mb-0">${{ juego.precio }}</p>
        </div>
        <button class="btn btn-sm btn-outline-danger" (click)="carritoService.eliminarJuego(juego)">
          <i class="bi bi-trash"></i>
        </button>
      </li>
    </ul>

    <div class="card-body">
      <p class="fs-5 fw-bold text-end mb-1">Total: ${{ total }}</p>
      <p class="fs-6 text-end text-success">Saldo disponible: ${{ saldoUsuario }}</p>

      <div class="d-flex justify-content-end gap-2 mt-3">
        <button (click)="irACatalogo()" class="btn btn-outline-secondary">Seguir comprando</button>
        <button class="btn btn-success" (click)="confirmarCompra()">Comprar ahora</button>
      </div>
    </div>
  </div>
</div>
