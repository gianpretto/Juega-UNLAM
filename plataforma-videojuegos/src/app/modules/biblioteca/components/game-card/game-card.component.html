<div class="game-card" (click)="handleCardClick($event)">

    <div class="game-image-container">
        <!--TODO:HAY QUE FIXEAR EL .TS PARA QUE FUNCIONE
        <img
            [src]="getGameImage()"
            [alt]="juego.nombre"
            class="game-image"
            loading="lazy"
        />
        -->


        <div class="game-overlay">
            <div class="overlay-actions">

                <button
                    pButton
                    type="button"
                    class="p-button-rounded p-button-info action-button"
                    pTooltip="Ver detalles"
                    tooltipPosition="top"
                    (click)="onClick.emit()"
                >
                    <i class="pi pi-eye"></i>
                </button>


                <button
                    pButton
                    type="button"
                    [class]="isFavorite ? 'p-button-rounded p-button-danger action-button favorite-active' : 'p-button-rounded p-button-danger action-button'"
                    [pTooltip]="isFavorite ? 'Quitar de favoritos' : 'Agregar a favoritos'"
                    tooltipPosition="top"
                    (click)="handleToggleFavorite($event)"
                >
                    <i [class]="isFavorite ? 'pi pi-heart-fill' : 'pi pi-heart'"></i>
                </button>


                <button
                    pButton
                    type="button"
                    [class]="isInBiblio ? 'p-button-rounded p-button-success action-button in-biblio' : 'p-button-rounded p-button-secondary action-button'"
                    [pTooltip]="isInBiblio ? 'En tu biblioteca' : 'Agregar a biblioteca'"
                    tooltipPosition="top"
                    (click)="handleAddToBiblio($event)"
                    [disabled]="isInBiblio"
                >
                    <i [class]="isInBiblio ? 'pi pi-check' : 'pi pi-plus'"></i>
                </button>
            </div>
        </div>

        <!--TODO: ESTO HAY QUE CAMBIARLO 
        <div class="rating-badge" *ngIf="juego.rating">
            <i class="pi pi-star-fill"></i>
            <span>{{ juego.rating }}</span>
        </div>
        -->
    </div>


    <div class="game-info">

        <h3
            class="game-title"
            [pTooltip]="juego.nombre"
            tooltipPosition="top"
        >
            {{ juego.nombre }}
        </h3>

        <!--TODO:HAY QUE CAMBIAR EN EL .TS PARA QUE FUNCIONE
        <p class="game-release-date">
            <i class="pi pi-calendar"></i>
            {{ getFormattedDate() }}
        </p>


        <div class="game-genres-text" *ngIf="hasGenres()">
            <i class="pi pi-tag"></i>
            <span>{{ getGenreNames() }}</span>
        </div>

        <div class="game-platforms" *ngIf="hasPlatforms()">
            <span
                class="platform-icon"
                *ngFor="let parentPlatform of getLimitedPlatforms()"
                [pTooltip]="parentPlatform.platform.name"
                tooltipPosition="top"
            >
                <i [class]="getPlatformIcon(parentPlatform.platform.name)"></i>
            </span>
        </div>


        <div class="game-genres" *ngIf="hasGenres()">
            <span
                class="genre-tag"
                *ngFor="let genre of getLimitedGenres()"
            >
                {{ genre.name }}
            </span>
        </div>
         -->
    </div>
   
</div>
